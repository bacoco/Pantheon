# /git Command - Git Integration Helper

## ACTIVATION

When the user types `/git [subcommand]`, provide git integration assistance.

## Overview

The `/git` command helps with git operations during BACO development workflows.

## Subcommands

### `/git init`
Initialize a git repository with appropriate settings:
```bash
git init --initial-branch=main
# Create .gitignore based on project type
# Make initial commit
```

### `/git commit`
Create a well-structured commit:
```bash
git add -A
git commit -m "[type]: [description]

[optional body]

Generated by BACO"
```

### `/git branch`
Create feature branches following conventions:
```bash
git checkout -b feature/[feature-name]
# or
git checkout -b fix/[issue-description]
# or
git checkout -b docs/[doc-update]
```

### `/git pr`
Create a pull request with comprehensive description:
1. Push current branch
2. Use gh CLI or provide instructions
3. Generate PR description from workflow

### `/git status`
Show enhanced git status with BACO context:
```
Current branch: feature/user-auth
Commits since main: 5
BACO phases completed: 3/5
Files created by BACO: 12
Test coverage: 85%
```

## Integration with Workflows

When git is enabled in workflows:
1. Auto-commit after each phase
2. Create meaningful commit messages
3. Tag important milestones
4. Generate PR descriptions

## Commit Message Templates

### Feature Commits
```
feat: add user authentication

- Implement JWT-based auth
- Add login/logout endpoints
- Create auth middleware
- Add comprehensive tests

Phase: Authentication
Coverage: 92%
```

### Fix Commits
```
fix: resolve token expiration issue

- Update token validation logic
- Add proper error handling
- Fix edge case with refresh tokens

Fixes: #123
```

### Refactor Commits
```
refactor: improve error handling architecture

- Centralize error handling
- Add custom error classes
- Improve error messages
- No functional changes

Phase: Code Quality
```

## Branch Strategies

### GitHub Flow (Default)
- main: Production-ready code
- feature/*: New features
- fix/*: Bug fixes
- docs/*: Documentation

### GitFlow
- main: Production releases
- develop: Integration branch
- feature/*: Features
- release/*: Release prep
- hotfix/*: Emergency fixes

## PR Generation

Automatically generate PR descriptions including:
- Summary of changes
- Features implemented
- Test results
- Breaking changes
- Related issues
- Screenshots (if applicable)

## Best Practices

1. **Atomic Commits**: One logical change per commit
2. **Clear Messages**: Descriptive, conventional commits
3. **Regular Commits**: Commit completed work frequently
4. **Test Before Push**: Ensure tests pass
5. **Update PR**: Keep PR description current

## Usage Examples

### Initialize with BACO project
```
/git init
> Initializing git repository...
> Created .gitignore for Node.js project
> Initial commit: "Initial project setup by BACO"
✅ Git repository initialized
```

### Create feature branch
```
/git branch user-profile
> Creating feature branch...
> Switched to branch 'feature/user-profile'
✅ Ready for development
```

### Commit with context
```
/git commit
> Analyzing changes...
> Detected: 5 new files, 3 modified
> Suggested message: "feat: implement user profile

- Add profile component
- Create profile API endpoint
- Add profile tests
- Update user model

Phase: User Profile
Coverage: 88%"

Commit? (y/n/edit):
```

### Create PR
```
/git pr
> Preparing pull request...
> Branch: feature/user-profile → main
> Commits: 8
> Changes: +523 -45

Creating PR with:
- Title: Implement user profile feature
- Labels: enhancement, baco-generated
- Description: [Generated from workflow]

✅ PR created: https://github.com/user/repo/pull/42
```

## Error Handling

Common issues and solutions:
- **No remote**: Prompt to add remote
- **Uncommitted changes**: Show what needs committing
- **Behind main**: Suggest rebase or merge
- **Conflicts**: Guide through resolution

Remember: Git integration enhances BACO workflows with version control best practices.